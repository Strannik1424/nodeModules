{"ast":null,"code":"import axios from \"axios\";\nimport { API_URL } from \"./config.ts\";\nasync function request(url, method, params, payload, extra = {}) {\n  const token = localStorage.getItem(\"@IKTZAP:token\");\n  return new Promise((resolve, reject) => {\n    const headers = {};\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    const data = [\"get\"].includes(method) ? {\n      params\n    } : {\n      data: params\n    };\n    axios({\n      baseURL: `${API_URL}${payload.no_api ? \"\" : \"/v1\"}`,\n      url,\n      method,\n      headers: headers,\n      ...data,\n      ...extra\n    }).then(res => {\n      if (res.data.status === \"success\") {\n        resolve(res.data);\n      } else {\n        reject(res.data);\n      }\n    }).catch(e => {\n      reject(e);\n    });\n  });\n}\nfunction get(url, params = {}, payload = {}, extra = {}) {\n  return request(url, \"get\", params, payload, extra);\n}\nfunction storage(url) {\n  return request(\"/storage\" + url, \"get\", {}, {\n    no_api: true\n  });\n}\nfunction post(url, data = {}, payload = {}) {\n  return request(url, \"post\", data, payload);\n}\nfunction _delete(url, data = {}, payload = {}) {\n  return request(url, \"delete\", data, payload);\n}\nexport default {\n  get,\n  post,\n  delete: _delete,\n  storage\n};","map":{"version":3,"names":["axios","API_URL","request","url","method","params","payload","extra","token","localStorage","getItem","Promise","resolve","reject","headers","data","includes","baseURL","no_api","then","res","status","catch","e","get","storage","post","_delete","delete"],"sources":["C:/Users/Install/Downloads/PR/testBayel/IKTZAP/src/utils/requester.ts"],"sourcesContent":["import axios from \"axios\";\nimport { API_URL } from \"./config.ts\";\n\ninterface TResponse<T> {\n  payload: T;\n  status: string;\n  result: number;\n}\n\nasync function request<T>(\n  url: string,\n  method: string,\n  params: any,\n  payload: IRequesterPayload,\n  extra: any = {}\n): Promise<TResponse<T>> {\n  const token = localStorage.getItem(\"@IKTZAP:token\");\n\n  return new Promise<TResponse<T>>((resolve, reject) => {\n    const headers: { [key: string]: string } = {};\n\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    const data = [\"get\"].includes(method) ? { params } : { data: params };\n\n    axios({\n      baseURL: `${API_URL}${payload.no_api ? \"\" : \"/v1\"}`,\n      url,\n      method,\n      headers: headers,\n      ...data,\n      ...extra,\n    })\n      .then((res) => {\n        if (res.data.status === \"success\") {\n          resolve(res.data as TResponse<T>);\n        } else {\n          reject(res.data);\n        }\n      })\n      .catch((e) => {\n        reject(e);\n      });\n  });\n}\n\ninterface IRequesterPayload {\n  no_api?: boolean;\n  language?: string;\n}\n\nfunction get<T>(\n  url: string,\n  params: { [key: string]: string | number | null | undefined } = {},\n  payload: IRequesterPayload = {},\n  extra: any = {}\n) {\n  return request<T>(url, \"get\", params, payload, extra);\n}\n\nfunction storage(url: string) {\n  return request(\n    \"/storage\" + url,\n    \"get\",\n    {},\n    {\n      no_api: true,\n    }\n  );\n}\n\nfunction post<T>(url: string, data: any = {}, payload: IRequesterPayload = {}) {\n  return request<T>(url, \"post\", data, payload);\n}\n\nfunction _delete(url: string, data: any = {}, payload: IRequesterPayload = {}) {\n  return request(url, \"delete\", data, payload);\n}\n\nexport default {\n  get,\n  post,\n  delete: _delete,\n  storage,\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,aAAa;AAQrC,eAAeC,OAAOA,CACpBC,GAAW,EACXC,MAAc,EACdC,MAAW,EACXC,OAA0B,EAC1BC,KAAU,GAAG,CAAC,CAAC,EACQ;EACvB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;EAEnD,OAAO,IAAIC,OAAO,CAAe,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpD,MAAMC,OAAkC,GAAG,CAAC,CAAC;IAE7C,IAAIN,KAAK,EAAE;MACTM,OAAO,CAAC,eAAe,CAAC,GAAI,UAASN,KAAM,EAAC;IAC9C;IAEA,MAAMO,IAAI,GAAG,CAAC,KAAK,CAAC,CAACC,QAAQ,CAACZ,MAAM,CAAC,GAAG;MAAEC;IAAO,CAAC,GAAG;MAAEU,IAAI,EAAEV;IAAO,CAAC;IAErEL,KAAK,CAAC;MACJiB,OAAO,EAAG,GAAEhB,OAAQ,GAAEK,OAAO,CAACY,MAAM,GAAG,EAAE,GAAG,KAAM,EAAC;MACnDf,GAAG;MACHC,MAAM;MACNU,OAAO,EAAEA,OAAO;MAChB,GAAGC,IAAI;MACP,GAAGR;IACL,CAAC,CAAC,CACCY,IAAI,CAAEC,GAAG,IAAK;MACb,IAAIA,GAAG,CAACL,IAAI,CAACM,MAAM,KAAK,SAAS,EAAE;QACjCT,OAAO,CAACQ,GAAG,CAACL,IAAoB,CAAC;MACnC,CAAC,MAAM;QACLF,MAAM,CAACO,GAAG,CAACL,IAAI,CAAC;MAClB;IACF,CAAC,CAAC,CACDO,KAAK,CAAEC,CAAC,IAAK;MACZV,MAAM,CAACU,CAAC,CAAC;IACX,CAAC,CAAC;EACN,CAAC,CAAC;AACJ;AAOA,SAASC,GAAGA,CACVrB,GAAW,EACXE,MAA6D,GAAG,CAAC,CAAC,EAClEC,OAA0B,GAAG,CAAC,CAAC,EAC/BC,KAAU,GAAG,CAAC,CAAC,EACf;EACA,OAAOL,OAAO,CAAIC,GAAG,EAAE,KAAK,EAAEE,MAAM,EAAEC,OAAO,EAAEC,KAAK,CAAC;AACvD;AAEA,SAASkB,OAAOA,CAACtB,GAAW,EAAE;EAC5B,OAAOD,OAAO,CACZ,UAAU,GAAGC,GAAG,EAChB,KAAK,EACL,CAAC,CAAC,EACF;IACEe,MAAM,EAAE;EACV,CACF,CAAC;AACH;AAEA,SAASQ,IAAIA,CAAIvB,GAAW,EAAEY,IAAS,GAAG,CAAC,CAAC,EAAET,OAA0B,GAAG,CAAC,CAAC,EAAE;EAC7E,OAAOJ,OAAO,CAAIC,GAAG,EAAE,MAAM,EAAEY,IAAI,EAAET,OAAO,CAAC;AAC/C;AAEA,SAASqB,OAAOA,CAACxB,GAAW,EAAEY,IAAS,GAAG,CAAC,CAAC,EAAET,OAA0B,GAAG,CAAC,CAAC,EAAE;EAC7E,OAAOJ,OAAO,CAACC,GAAG,EAAE,QAAQ,EAAEY,IAAI,EAAET,OAAO,CAAC;AAC9C;AAEA,eAAe;EACbkB,GAAG;EACHE,IAAI;EACJE,MAAM,EAAED,OAAO;EACfF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}